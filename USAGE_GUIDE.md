# 圆与圆弧交点可视化程序 - 使用说明

## 程序功能

本程序演示了**一个完整的圆**与**一段圆弧**的交点计算和可视化。

## 当前配置

### 圆1（蓝色）- 完整圆
- 中心：(0, 0)
- 半径：5
- 范围：完整360°

### 圆弧（绿色）- 半圆弧
- 中心：(6, 0)
- 半径：4
- 范围：0° - 180°（上半圆）

### 交点（红色）
- 数量：**1个**
- 因为绿色圆弧只显示上半部分，所以只有上方的交点会被标记
- 如果改成完整的圆（0° - 360°），则会有2个交点

## 运行程序

```bash
cd /Users/zhaoliyan/IdeaProjects/vepor
cargo build --release
./target/release/vepor
```

或使用快捷脚本：
```bash
chmod +x run.sh
./run.sh
```

## 预期输出

### 控制台输出
```
=== 圆与圆弧交点计算程序 ===

圆1（蓝色）: 中心 (0, 0), 半径 5 [完整圆]
圆弧（绿色）: 中心 (6, 0), 半径 4 [范围: 0° - 180°]

交点数量: 1
交点 1: (3.2000, 3.2000)

正在启动可视化窗口...
提示: 可以拖拽画布移动视图，使用Zoom滑块缩放
      绿色圆弧只显示上半部分，因此只有一个交点
```

### 图形界面
- **蓝色完整圆**：左侧的大圆
- **绿色圆弧**：右侧的半圆（只显示上半部分）
- **红色点**：标记唯一的交点位置
- 可以拖拽移动视图
- 可以用Zoom滑块调整缩放

## 修改参数

编辑 `src/main.rs` 文件：

```rust
fn main() {
    // 定义第一个圆（完整的圆）
    let circle1_center = Point { x: 0.0, y: 0.0 };
    let circle1_radius = 5.0;
    
    // 定义第二个形状（圆弧）
    let circle2_center = Point { x: 6.0, y: 0.0 };
    let circle2_radius = 4.0;
    let arc_start = 0.0;      // 起始角度
    let arc_end = 180.0;      // 结束角度
    
    // ...
}
```

### 角度说明
- **0°** = 向右（正X轴方向）
- **90°** = 向上（正Y轴方向）
- **180°** = 向左（负X轴方向）
- **270°** = 向下（负Y轴方向）
- **360°** = 完整一圈

### 示例配置

#### 上半圆（当前）
```rust
let arc_start = 0.0;
let arc_end = 180.0;
```
结果：1个交点（上方）

#### 下半圆
```rust
let arc_start = 180.0;
let arc_end = 360.0;
```
结果：1个交点（下方）

#### 右半圆
```rust
let arc_start = 270.0;
let arc_end = 90.0;
```
结果：2个交点（因为跨越了0°）

#### 左半圆
```rust
let arc_start = 90.0;
let arc_end = 270.0;
```
结果：0个交点（圆弧在左侧，不与圆1相交）

#### 完整圆
```rust
let arc_start = 0.0;
let arc_end = 360.0;
```
结果：2个交点（上下各一个）

#### 小圆弧（右上四分之一）
```rust
let arc_start = 0.0;
let arc_end = 90.0;
```
结果：1个交点

## 算法说明

程序使用 `arc_arc_intersection` 函数计算交点：

1. 计算两个圆心之间的距离
2. 判断是否相交（距离、半径关系）
3. 使用几何公式计算交点坐标
4. 检查交点是否在指定的角度范围内
5. 只返回在两个圆弧范围内的交点

这就是为什么改变圆弧角度范围会影响交点数量。

## 交互功能

- **鼠标拖拽**：移动整个画布
- **Reset View**：重置视图到初始位置
- **Show Grid**：显示/隐藏坐标网格
- **Zoom滑块**：调整显示比例（1-50倍）

## 疑难解答

### 如果看不到图形
1. 检查圆心位置是否在视图范围内
2. 调整Zoom滑块放大或缩小
3. 拖拽画布移动视图

### 如果交点数量不对
1. 检查圆弧的角度范围
2. 确认两个圆是否真的相交（圆心距离 < r1 + r2）
3. 查看控制台输出的交点坐标

### 如果中文不显示
参考 `FONT_DEBUG_GUIDE.md` 和 `DEBUG_README.md`

